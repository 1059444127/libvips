#############################################################################
# Makefile for building vips
# Generated by tmake at 16:03, 2003/06/11
#     Project: vips
#    Template: app
#############################################################################

####### Compiler, tools and options

CC	=	cl
CXX	=	cl
CFLAGS	=	-nologo -W3 -O1 -DNO_DEBUG
CXXFLAGS=	-nologo -W3 -O1 -DNO_DEBUG
DESTDIR=	../Release
INCPATH	=	-I".." -I"..\include" -I"$(QTDIR)\include"
LINK	=	link
LFLAGS	=	/NOLOGO /SUBSYSTEM:windows /DLL /DEF:vips.def
LIBS	=	kernel32.lib user32.lib gdi32.lib comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib uuid.lib imm32.lib winmm.lib wsock32.lib ..\lib\libjpeg.lib ..\lib\libtiff.lib ..\lib\libpng.lib ..\lib\libz.lib
MOC	=	moc
UIC	=	uic

ZIP	=	zip -r -9

####### Files

HEADERS =	..\config.h
SOURCES =	dummy.c
OBJECTS =	dummy.obj \
	$(DESTDIR)/acquire.lib \
	$(DESTDIR)/arithmetic.lib \
	$(DESTDIR)/boolean.lib \
	$(DESTDIR)/colour.lib \
	$(DESTDIR)/conversion.lib \
	$(DESTDIR)/convolution.lib \
	$(DESTDIR)/freq_filt.lib \
	$(DESTDIR)/histograms_lut.lib \
	$(DESTDIR)/inplace.lib \
	$(DESTDIR)/iofuncs.lib \
	$(DESTDIR)/matrix.lib \
	$(DESTDIR)/morphology.lib \
	$(DESTDIR)/mosaicing.lib \
	$(DESTDIR)/other.lib \
	$(DESTDIR)/relational.lib \
	$(DESTDIR)/video.lib \

INTERFACES =	
UICDECLS =	
UICIMPLS =	
SRCMOC	=	
OBJMOC	=	
DIST	=	
TARGET	=	..\Release\vips.dll
INTERFACE_DECL_PATH = .

####### Implicit rules

.SUFFIXES: .cpp .cxx .cc .c

.cpp.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.cxx.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.cc.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.c.obj:
	$(CC) -c $(CFLAGS) $(INCPATH) -Fo$@ $<

####### Build rules

all: $(TARGET)

$(TARGET): $(UICDECLS) $(OBJECTS) $(OBJMOC) 
	$(LINK) $(LFLAGS) /OUT:$(TARGET) @<<
	    $(OBJECTS) $(OBJMOC) $(LIBS)
<<

moc: $(SRCMOC)

tmake: Makefile

Makefile: vips.pro
	tmake vips.pro -o Makefile

dist:
	$(ZIP) vips.zip vips.pro $(SOURCES) $(HEADERS) $(DIST) $(INTERFACES)

clean:
	-del dummy.obj
	-del $(TARGET)
	-del vips.lib
	-del vips.exp

####### Compile

dummy.obj: dummy.c

