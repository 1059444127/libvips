#############################################################################
# Makefile for building mosaicing
# Generated by tmake at 16:03, 2003/06/11
#     Project: mosaicing
#    Template: lib
#############################################################################

####### Compiler, tools and options

CC	=	cl
CXX	=	cl
CFLAGS	=	-nologo -W3 -O1 -DHAVE_CONFIG_H -DNO_DEBUG
CXXFLAGS=	-nologo -W3 -O1 -DHAVE_CONFIG_H -DNO_DEBUG
INCPATH	=	-I"..\.." -I"..\..\include" -I"$(QTDIR)\include"
LIB	=	lib /NOLOGO
MOC	=	moc
UIC	=	uic

ZIP	=	zip -r -9

####### Files

HEADERS =	..\..\config.h \
		merge.h \
		global_balance.h \
		mosaic.h
SOURCES =	im_affine.c \
		match.c \
		mosaic1.c \
		mosaicing_dispatch.c \
		similarity.c \
		global_balance.c \
		im_avgdxdy.c \
		im_chkpair.c \
		im_clinear.c \
		im_improve.c \
		im_initialize.c \
		im_lrcalcon.c \
		im_lrmerge.c \
		im_lrmosaic.c \
		im_tbcalcon.c \
		im_tbmerge.c \
		im_remosaic.c \
		im_tbmosaic.c
OBJECTS =	im_affine.obj \
		match.obj \
		mosaic1.obj \
		mosaicing_dispatch.obj \
		similarity.obj \
		global_balance.obj \
		im_avgdxdy.obj \
		im_chkpair.obj \
		im_clinear.obj \
		im_improve.obj \
		im_initialize.obj \
		im_lrcalcon.obj \
		im_lrmerge.obj \
		im_lrmosaic.obj \
		im_tbcalcon.obj \
		im_tbmerge.obj \
		im_remosaic.obj \
		im_tbmosaic.obj
INTERFACES =	
UICDECLS =	
UICIMPLS =	
SRCMOC	=	
OBJMOC	=	
DIST	=	
TARGET	=	..\..\Release\mosaicing.lib
INTERFACE_DECL_PATH = .

####### Implicit rules

.SUFFIXES: .cpp .cxx .cc .c

.cpp.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.cxx.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.cc.obj:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo$@ $<

.c.obj:
	$(CC) -c $(CFLAGS) $(INCPATH) -Fo$@ $<

####### Build rules

all: $(TARGET)

$(TARGET): $(UICDECLS) $(OBJECTS) $(OBJMOC) 
	$(LIB) /OUT:$(TARGET) @<<
	    $(OBJECTS) $(OBJMOC)
<<

moc: $(SRCMOC)

tmake: Makefile

Makefile: mosaicing.pro
	tmake mosaicing.pro -o Makefile

dist:
	$(ZIP) mosaicing.zip mosaicing.pro $(SOURCES) $(HEADERS) $(DIST) $(INTERFACES)

clean:
	-del im_affine.obj
	-del match.obj
	-del mosaic1.obj
	-del mosaicing_dispatch.obj
	-del similarity.obj
	-del global_balance.obj
	-del im_avgdxdy.obj
	-del im_chkpair.obj
	-del im_clinear.obj
	-del im_improve.obj
	-del im_initialize.obj
	-del im_lrcalcon.obj
	-del im_lrmerge.obj
	-del im_lrmosaic.obj
	-del im_tbcalcon.obj
	-del im_tbmerge.obj
	-del im_remosaic.obj
	-del im_tbmosaic.obj
	-del $(TARGET)

####### Compile

im_affine.obj: im_affine.c \
		merge.h

match.obj: match.c \
		mosaic.h

mosaic1.obj: mosaic1.c \
		mosaic.h \
		merge.h

mosaicing_dispatch.obj: mosaicing_dispatch.c

similarity.obj: similarity.c \
		merge.h

global_balance.obj: global_balance.c \
		merge.h \
		global_balance.h

im_avgdxdy.obj: im_avgdxdy.c \
		mosaic.h

im_chkpair.obj: im_chkpair.c \
		mosaic.h

im_clinear.obj: im_clinear.c \
		mosaic.h

im_improve.obj: im_improve.c \
		mosaic.h

im_initialize.obj: im_initialize.c \
		mosaic.h

im_lrcalcon.obj: im_lrcalcon.c \
		mosaic.h

im_lrmerge.obj: im_lrmerge.c \
		merge.h

im_lrmosaic.obj: im_lrmosaic.c \
		mosaic.h

im_tbcalcon.obj: im_tbcalcon.c \
		mosaic.h

im_tbmerge.obj: im_tbmerge.c \
		merge.h

im_remosaic.obj: im_remosaic.c \
		merge.h \
		global_balance.h

im_tbmosaic.obj: im_tbmosaic.c \
		mosaic.h

